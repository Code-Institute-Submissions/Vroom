{% extends 'base.html' %}

{% block meta_description %}Vroom. Find a car to rent.{% endblock %}

{% block title %}Vroom - Find a Car{% endblock %}

{% block content %}

<div class="row">
    <div class="col-12 header-strip profile-header">
        <h4>Find a Car</h4>
    </div>
    <div class="col-12">
        <p>Here you will find what you're looking for.</p>
        <p>Classic cars with unique history bringing nostalgia or maybe classics with a modern heart delivering amazing performance.</p>
        <p>If you are looking for luxury and exclusiveness, here you will find the pinacle of the luxury cars universe.</p>
        <p>In case you are seeking performance and adrenaline, you will find what you are looking for under our wide purebred supersports cars selection</p>
    </div>
</div>
<div class="row search-row">
    <form class="search-form" action="{% url 'search' %}" method="get">
        <label for="search_select">Search by:</label>
        <select class="form-control" name="search_key" id="search_select">
            <option>Brand</option>
            <option>Location</option>
            <option>Model</option>
            <option>Year</option>
        </select>
        <input type="text" name="search_value">
        <button type="submit">Search</button>
    </form>
</div>

<div class="row cards-row car-cards-row">
{% for car in cars %}
    <div class="card col-12 col-md-6 col-lg-4 car-card">
        <div class="card-header">
            <h4 class="card-title">{{ car.brand|upper }} {{ car.model|upper }} {{ car.year }}</h4>
        </div>
        <div id="{{ car.brand }}{{ car.id }}" class="carousel slide" data-interval="false">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{{ MEDIA_URL }}{{ car.image1 }}" class="car-carousel-img" alt="image of a {{ car.year }} {{ car.brand }} {{ car.model }}">
                </div>
                <div class="carousel-item">
                    <img src="{{ MEDIA_URL }}{{ car.image2 }}" class="car-carousel-img" alt="image of a {{ car.year }} {{ car.brand }} {{ car.model }}">
                </div>
                <div class="carousel-item">
                    <img src="{{ MEDIA_URL }}{{ car.image3 }}" class="car-carousel-img" alt="image of a {{ car.year }} {{ car.brand }} {{ car.model }}">
                </div>
                <div class="carousel-item">
                    <img src="{{ MEDIA_URL }}{{ car.image4 }}" class="car-carousel-img" alt="image of a {{ car.year }} {{ car.brand }} {{ car.model }}">
                </div>
                <div class="carousel-item">
                    <img src="{{ MEDIA_URL }}{{ car.image5 }}" class="car-carousel-img" alt="image of a {{ car.year }} {{ car.brand }} {{ car.model }}">
                </div>
            </div>
            <a class="carousel-control-prev" href="#{{ car.brand }}{{ car.id }}" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#{{ car.brand }}{{ car.id }}" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <div class="card-body">
            <div class="card-text">
                <p>{{ car.class }}</p>
                <p><i class="fas fa-cogs"></i> {{ car.engine_type }} {{ car.displacement }}L</p>
                <p><i class="fas fa-gas-pump"></i> {{ car.fuel }} - {{ car.transmission }}</p>
                <p>{{ car.doors }} doors - {{ car.passengers }} seats</p>
                <p><i class="fas fa-map-marked-alt"></i> {{ car.city }} - {{ car.country }}</p>
            </div>
            <h5 class="card-price">{{ car.price }} per day</h5>
            <form method="POST" action="{% url 'add_to_cart' car.id %}">
                {% csrf_token %}
                <div class="input-area mt-3">
                    <input name="quantity" type="number" min="1" max="999" class="form-control" placeholder="How many days?">
                    <button class="btn general-button card-button" type="submit">Vroom!</button> 
                </div>
            </form>
            <a href="{% url 'car_detail' car.id %}" rel="noopener" aria-label="Link to page with car details">
                <button type="button" class="btn general-button card-button car-view-button">View</button>
            </a>
        </div>
    </div>
{% endfor %}
</div>
{% endblock %}